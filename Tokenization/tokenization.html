<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, user-scalable=yes">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="format-detection" content="telephone=no">
    <title>Tokenization Game</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400&family=Roboto+Slab&display=swap"
        rel="stylesheet">
    <!-- <link rel = "icon" href="portfolio/icon.png" type="image/x-icon">  -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="tokenization.css">
</head>

<body>
    <div class='container'>
        <div class='jumbotron'>
            <h1>Tokenization Game</h1>
            <div class='sentences'>
                <h3 class='native_sentence' id='sen'>
                    <ul id='canvas'>

                    </ul>
                    <button type="button" class="btn btn-secondary" onclick="next()">Next Sentence</button>
                </h3>
            </div>
        </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <!-- <script>
        // var { answer_list_noun } = require('./tokenization');
        console.log('hi', answer_list_noun);
        window.onload = tokenization();
    </script> -->
    <!-- <script>
        var progress = 0;
        var noun_answer = [];
        var verb_answer = [];
        var answer_list_noun = [];
        var answer_list_verb = [];
        var sentenceList = [
            'The weather is nice today.',
            'The raven excludes others from joining them.',
            'The mechanism outdoes the traditional work.',
            'The abuser adores the aggressor.',
            'The adolescent begrudges the drinker.',
            'The choreographer bridles at the choir.',
            'The adjuster despairs at the executive.',
            'The Federal Bureau of Investigation loathes the drug peddler.'
        ];

        function display_sentence() {

            e = sentenceList[progress];
            var senarr = e.split(' ');

            document.getElementById('canvas').innerHTML = "";

            var newTag = document.createElement('div');
            var newTagQue = document.createTextNode("Choose a noun for the sentence");
            newTag.appendChild(newTagQue);
            document.getElementById('canvas').appendChild(newTag);

            for (n = 0; n < senarr.length; n++) {
                // create a new div element 
                var newLabel = document.createElement('label');
                var newInput = document.createElement('input');
                newLabel.setAttribute('for', 'senList' + progress + '_idx' + n);
                newInput.setAttribute('type', 'checkbox');
                newInput.setAttribute('id', 'senList' + progress + '_idx' + n);
                newInput.setAttribute('name', 'senList' + progress + '_idx' + n);
                newInput.setAttribute('class', 'check_box_noun');
                newInput.setAttribute('value', senarr[n]);
                newInput.setAttribute('style', 'margin-left: 0.5rem');
                newLabel.setAttribute('style', 'margin-right: 0.5rem');
                var newContent = document.createTextNode(senarr[n]);
                newLabel.appendChild(newContent);
                document.getElementById('canvas').appendChild(newInput);
                document.getElementById('canvas').appendChild(newLabel);
            }

            //grab all the noun input for this sentence
            var checkboxesnoun = document.getElementsByClassName('check_box_noun');
            for (var i = 0, len = checkboxesnoun.length; i < len; i++) {
                checkboxesnoun[i].onclick = saveanswernoun;
            }

            // access properties of checkbox clicked using 'this' keyword
            function saveanswernoun() {
                if (this.checked) {
                    // if checked ...
                    noun_answer.push(this.value, this.id);
                    console.log("This is the clicked word: " + noun_answer);
                    // answer_list_noun = answer_list_noun.concat(noun_answer);
                } else {
                    if (noun_answer.includes(this.value)) {
                        var index = noun_answer.indexOf(this.value);
                        noun_answer.splice(index, 2);
                        console.log("These are the words left: " + noun_answer);
                        // answer_list_noun = answer_list_noun.concat(noun_answer);
                    }
                }
            }

            var newLine = document.createElement('br');
            document.getElementById('canvas').appendChild(newLine);
            var newLine = document.createElement('br');
            document.getElementById('canvas').appendChild(newLine);

            var newTag = document.createElement('div');
            var newTagque = document.createTextNode("Choose a verb for the sentence");
            newTag.appendChild(newTagque);
            document.getElementById('canvas').appendChild(newTag);

            for (n = 0; n < senarr.length; n++) {
                // create a new div element 
                var newLabel = document.createElement('label');
                var newInput = document.createElement('input');
                newLabel.setAttribute('for', 'v_senList' + progress + '_idx' + n);
                newLabel.setAttribute('id', 'v_senList' + progress + '_idx' + n + '_label');
                newInput.setAttribute('type', 'checkbox');
                newInput.setAttribute('id', 'v_senList' + progress + '_idx' + n);
                newInput.setAttribute('name', 'senList' + progress + '_idx' + n);
                newInput.setAttribute('class', 'check_box_verb');
                newInput.setAttribute('value', senarr[n]);
                newInput.setAttribute('style', 'margin-left: 0.5rem; visibility:hidden;');
                newLabel.setAttribute('style', 'margin-right: 0.5rem');
                var newContent = document.createTextNode(senarr[n]);
                newLabel.appendChild(newContent);
                document.getElementById('canvas').appendChild(newInput);
                document.getElementById('canvas').appendChild(newLabel);
            }

            //grab all the verb input for this sentence
            var checkboxesverb = document.getElementsByClassName('check_box_verb');
            for (var i = 0, len = checkboxesverb.length; i < len; i++) {
                checkboxesverb[i].onclick = saveanswerverb;
            }

            // access properties of checkbox clicked using 'this' keyword

            function saveanswerverb() {
                // var noun_answer = new Array;

                if (this.checked) {
                    // if checked ...
                    verb_answer.push(this.value, this.id);
                    console.log("This is the clicked word: " + verb_answer);
                    document.getElementById(this.id + '_label').setAttribute('style', "color: red;");
                } else {
                    document.getElementById(this.id + '_label').setAttribute('style', "color: black;");
                    var index = verb_answer.indexOf(this.value);
                    verb_answer.splice(index, 2);
                    console.log("These are the words left: " + verb_answer);
                }
            }
        }



        display_sentence();

        // var checkedValue = $("#'senList' + progress + '_idx' + n:checked").val();
        // console.log(checkedValue);

        function next() {
            answer_list_noun.push(noun_answer);
            console.log(answer_list_noun);
            answer_list_verb.push(verb_answer);
            console.log(answer_list_verb);
            noun_answer = [];
            verb_answer = [];

            if (progress >= sentenceList.length - 1) {
                progress = 0;
            } else {
                progress += 1;
            }

            display_sentence();
        }

    </script> -->
    <script src="./tokenization.js"></script>

</body>

</html>